{"title":"Canvas 绘制 iconfont 图标","date":"2021-06-07T06:32:22.000Z","link":"post/canvas-iconfont","tags":["canvas","javascript"],"categories":["case"],"updated":"2021-06-12T10:38:30.366Z","content":"<ol>\n<li>获取到 iconfont 对应图标的 u16 字符，具体是 <code>&amp;#</code> + 字符，如下图的结果则是 <code>&amp;#e7a0</code><br><img src=\"https://user-images.githubusercontent.com/27424848/120955323-ad798e80-c783-11eb-96d0-ab727867aad4.png\" alt=\"image\"></li>\n</ol>\n<figure class=\"highlight ts\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> u16 = <span class=\"string\">'&amp;#e7a0'</span>;</span><br></pre></td></tr></table></div></figure>\n\n<ol start=\"2\">\n<li>获取实际绘制的文本字符</li>\n</ol>\n<figure class=\"highlight ts\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> icon = <span class=\"built_in\">eval</span>((<span class=\"string\">'(\"'</span> + u16).replace(<span class=\"string\">'&amp;#x'</span>, <span class=\"string\">'\\\\u'</span>).replace(<span class=\"string\">';'</span>, <span class=\"string\">''</span>) + <span class=\"string\">'\")'</span>);</span><br></pre></td></tr></table></div></figure>\n\n<ol start=\"3\">\n<li>在 canvas 上使用 iconfont 对应的字体绘制 icon</li>\n</ol>\n<figure class=\"highlight ts\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> ICON_FONT_NAME = <span class=\"string\">'iconfont'</span>; <span class=\"comment\">// 字体名称按照实际使用的替换</span></span><br><span class=\"line\"><span class=\"keyword\">this</span>.ctx.font = <span class=\"string\">`12px <span class=\"subst\">$&#123;ICON_FONT_NAME&#125;</span>`</span>;</span><br><span class=\"line\"><span class=\"keyword\">this</span>.ctx.fillText(icon, <span class=\"number\">10</span>, <span class=\"number\">20</span>);</span><br></pre></td></tr></table></div></figure>\n\n","next":{"title":"Canvas 开发经验记录","link":"post/2021-canvas-tips"},"plink":"https://yanoo1497.github.io/post/canvas-iconfont/"}